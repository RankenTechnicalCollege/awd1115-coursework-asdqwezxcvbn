@model S3FinalV2.Models.AssignedJobs

@{
    ViewData["Title"] = "Order Details";
}

<h2>Order Details</h2>

<div class="card p-3">
    <h4>@Model.Jobs?.Name</h4>

    <p>
        <strong>Vehicle:</strong>
        @Model.Customer?.VehicleInfo
    </p>

    <p>
        <strong>Description:</strong>
        @Model.Jobs?.Description
    </p>

    <p>
        <strong>Priority:</strong>
        @Model.Jobs?.Priority
    </p>

    <p>
        <strong>Status:</strong>
        @if (Model.MechanicAssignments != null && Model.MechanicAssignments.Any())
        {
            <span class="badge bg-info">Assigned</span>
        }
        else
        {
            <span class="badge bg-warning">Waiting for Assignment</span>
        }
    </p>

    <h5 class="mt-3">Assigned Mechanics</h5>

    @if (Model.MechanicAssignments != null && Model.MechanicAssignments.Any())
    {
        <ul>
            @foreach (var ma in Model.MechanicAssignments)
            {
                <li>
                    @ma.Mechanic?.Name
                    (Skill Level: @ma.Mechanic?.SkillLevel)
                </li>
            }
        </ul>
    }
    else
    {
        <p class="text-muted">No mechanics assigned yet.</p>
    }

    <a asp-action="Orders" class="btn btn-secondary mt-3">
        Back to Orders
    </a>
</div>